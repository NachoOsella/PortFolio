<article
    class="blog-card group flex h-full cursor-pointer flex-col overflow-hidden rounded-md"
    role="link"
    tabindex="0"
    [attr.aria-label]="'Open blog post ' + post().title"
    (click)="onCardClick($event)"
    (keydown)="onCardKeydown($event)"
>
    @if (post().coverImage && !imageFailed()) {
        <div class="aspect-video overflow-hidden bg-[#282828]">
            <img
                [src]="post().coverImage"
                [alt]="post().title"
                class="h-full w-full object-cover"
                (error)="onImageError()"
            />
        </div>
    } @else {
        <div class="pattern-bg flex aspect-video items-center justify-center text-4xl font-bold text-[#928374]">
            {{ post().title.charAt(0) }}
        </div>
    }

    <div class="flex flex-1 flex-col p-5">
        <h3 class="text-lg font-semibold text-[#d4be98] transition-colors group-hover:text-[#7daea3]">
            <a [routerLink]="['/blog', post().slug]">{{ post().title }}</a>
        </h3>

        <div class="mt-2 flex flex-wrap items-center gap-4 text-sm text-[#928374]">
            <span class="flex items-center gap-1.5">
                <lucide-icon [img]="icons.Calendar" [size]="14" />
                {{ post().date | date: 'MMM d, yyyy' }}
            </span>
            <span class="flex items-center gap-1.5">
                <lucide-icon [img]="icons.Clock" [size]="14" />
                {{ post().readingTime }}
            </span>
        </div>

        <p class="mt-3 line-clamp-2 text-sm leading-relaxed text-[#928374]">
            {{ post().excerpt }}
        </p>

        <div class="mt-4 flex flex-wrap gap-2">
            @for (tag of post().tags; track tag) {
                <span class="mono-chip">
                    {{ tag }}
                </span>
            }
        </div>

        <a
            [routerLink]="['/blog', post().slug]"
            class="mt-5 inline-flex h-11 items-center gap-1 rounded-md border border-white/[0.05] px-4 text-sm font-medium text-[#d4be98] transition-colors hover:border-white/[0.1] hover:bg-[#32302f] hover:text-[#d4be98]"
        >
            Read post
            <lucide-icon [img]="icons.ArrowRight" [size]="14" />
        </a>
    </div>
</article>
