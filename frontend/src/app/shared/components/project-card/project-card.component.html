<article
    class="project-card group flex h-full cursor-pointer flex-col overflow-hidden rounded-md"
    role="link"
    tabindex="0"
    [attr.aria-label]="'Open project ' + project().title"
    (click)="onCardClick($event)"
    (keydown)="onCardKeydown($event)"
>
    <div class="project-thumb relative aspect-video overflow-hidden">
        @if (project().image) {
            <img
                [src]="project().image"
                [alt]="project().title"
                class="h-full w-full object-cover"
            />
        } @else {
            <div
                class="pattern-bg flex h-full w-full items-center justify-center text-4xl font-bold text-[#928374]"
            >
                {{ project().title.charAt(0) }}
            </div>
        }
        <span
            class="absolute left-4 top-4 rounded-[6px] border border-white/[0.05] bg-[#3a3735] px-2.5 py-1 font-mono text-[11px] font-semibold uppercase tracking-wider text-[#d4be98]"
        >
            {{ project().category }}
        </span>
    </div>

    <div class="flex flex-1 flex-col p-5">
        <h3 class="text-lg font-semibold text-[#d4be98] transition-colors group-hover:text-[#7daea3]">
            <a [routerLink]="['/projects', project().id]">{{ project().title }}</a>
        </h3>
        <p class="mt-2 line-clamp-2 text-sm leading-relaxed text-[#928374]">
            {{ project().description }}
        </p>

        <div class="mt-4 flex flex-wrap gap-2">
            @for (tech of project().technologies.slice(0, 4); track tech) {
                <span class="mono-chip">
                    {{ tech }}
                </span>
            }
            @if (project().technologies.length > 4) {
                <span class="mono-chip">
                    +{{ project().technologies.length - 4 }}
                </span>
            }
        </div>

        <div class="mt-5 flex items-center justify-between gap-3 border-t border-white/[0.05] pt-4">
            <div class="flex items-center gap-2">
                @if (project().links.github) {
                    <a
                        [href]="project().links.github"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="inline-flex h-11 w-11 items-center justify-center rounded-md border border-white/[0.05] text-[#d4be98] transition-colors hover:border-white/[0.1] hover:bg-[#32302f] hover:text-[#d4be98]"
                        aria-label="View source code"
                    >
                        <lucide-icon [img]="icons.Github" [size]="16" />
                    </a>
                }
                @if (project().links.live) {
                    <a
                        [href]="project().links.live"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="inline-flex h-11 w-11 items-center justify-center rounded-md border border-white/[0.05] text-[#d4be98] transition-colors hover:border-white/[0.1] hover:bg-[#32302f] hover:text-[#d4be98]"
                        aria-label="Open live project"
                    >
                        <lucide-icon [img]="icons.ExternalLink" [size]="16" />
                    </a>
                }
            </div>

            <a
                [routerLink]="['/projects', project().id]"
                class="inline-flex h-11 items-center gap-1 rounded-md border border-white/[0.05] px-4 text-sm font-medium text-[#d4be98] transition-colors hover:border-white/[0.1] hover:bg-[#32302f] hover:text-[#d4be98]"
            >
                Details
                <lucide-icon [img]="icons.ArrowRight" [size]="14" />
            </a>
        </div>
    </div>
</article>
