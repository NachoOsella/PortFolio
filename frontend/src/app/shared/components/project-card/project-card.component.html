<article
    class="project-card group relative flex h-full flex-col focus-within:border-[var(--accent)]"
>
    <a
        [routerLink]="['/projects', project().id]"
        class="absolute inset-0 z-10"
        [attr.aria-label]="'Open project ' + project().title"
    ></a>

    <div class="flex flex-1 flex-col p-6">
        <div class="flex items-center gap-3">
            <span class="font-mono text-[11px] font-bold uppercase tracking-wider text-[var(--gray)]">
                {{ project().category }}
            </span>
        </div>

        <h3 class="mt-3 text-lg font-bold text-[var(--fg)] transition-colors group-hover:text-[var(--accent)]">
            {{ project().title }}
        </h3>

        <p class="mt-2 line-clamp-3 text-sm leading-relaxed text-[var(--gray)]">
            {{ project().description }}
        </p>

        <div class="mt-4 flex flex-wrap gap-2">
            @for (tech of project().technologies.slice(0, 5); track tech) {
                <span class="mono-chip">{{ tech }}</span>
            }
            @if (project().technologies.length > 5) {
                <span class="mono-chip">+{{ project().technologies.length - 5 }}</span>
            }
        </div>

        <div class="mt-auto flex items-center justify-between gap-3 border-t border-[var(--border-subtle)] pt-4" style="margin-top: 1.25rem;">
            <div class="flex items-center gap-2">
                @if (project().links.github) {
                    <a
                        [href]="project().links.github"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="relative z-20 inline-flex h-9 w-9 items-center justify-center border border-[var(--border-subtle)] text-[var(--fg)] transition-colors hover:border-[var(--border-strong)] hover:bg-[var(--bg2)]"
                        aria-label="View source code"
                    >
                        <lucide-icon [img]="icons.Github" [size]="16" />
                    </a>
                }
                @if (project().links.live) {
                    <a
                        [href]="project().links.live"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="relative z-20 inline-flex h-9 w-9 items-center justify-center border border-[var(--border-subtle)] text-[var(--fg)] transition-colors hover:border-[var(--border-strong)] hover:bg-[var(--bg2)]"
                        aria-label="Open live project"
                    >
                        <lucide-icon [img]="icons.ExternalLink" [size]="16" />
                    </a>
                }
            </div>

            <a
                [routerLink]="['/projects', project().id]"
                class="relative z-20 inline-flex h-9 items-center gap-1 border border-[var(--border-subtle)] px-3 text-sm font-medium text-[var(--fg)] transition-colors hover:border-[var(--border-strong)] hover:bg-[var(--bg2)]"
            >
                Details
                <lucide-icon [img]="icons.ArrowRight" [size]="14" />
            </a>
        </div>
    </div>
</article>
